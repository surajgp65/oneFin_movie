<div class="container mb-4">
  <div class="posistion-relative mb-1">
    <div class="row">
      <div class="col-md-4"></div>
      <div class="col-md-4">
        <h1 class="text-center font-weight-bold m-0">Movie List</h1>
      </div>
      <div class="col-md-4">
        <div class="d-flex">
          <input
            type="text"
            name="search"
            class="form-control"
            [(ngModel)]="searchQuery"
            placeholder="Search Movie"
            (keyup)="searchMovie()"
            id="search"
          />
          <img
            src="assets/images/refresh.svg"
            class="p-2 bg-white rounded ml-2 border cursor-pointer"
            (click)="getMovies()"
          />
        </div>
      </div>
    </div>
  </div>

  <hr />

  <div class="mt-3">
    <div class="row">
      <div
        class="col-md-4 col-lg-3 mb-3"
        *ngFor="let item of movieData.results"
      >
        <div class="card mx-2" (click)="openModal(item)">
          <div class="d-flex justify-content-center my-3">
            <img
              [src]="getImage(item.title)"
              class="card-img-top rounded-circle w-70"
              alt="..."
            />
          </div>
          <div class="card-body border-top">
            <h4 class="card-title font-weight-bold mb-2">{{ item.title }}</h4>
            <span class="font-weight-bold">Genres: </span>
            <span>{{ item.genres }}</span>
            <p class="card-text text-truncate-p">
              <span class="font-weight-bold">Description: </span
              >{{ item.description }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="my-2">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-between">
        <li class="page-item cursor-pointer">
          <a class="page-link" (click)="prevMovies(movieData.previous)"
            >Previous</a
          >
        </li>

        <li class="page-item cursor-pointer">
          <a class="page-link" (click)="nextMovies(movieData.next)">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<ng-template #showMovie>
  <div class="modal-header">
    <h4 class="modal-title pull-left m-0 font-weight-bold">Movie Data</h4>
    <button
      type="button"
      class="btn-close close pull-right"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row no-gutters">
      <div class="col-md-4 align-self-center text-center">
        <img [src]="getImage(movie.title)" class="w-90" />
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h2 class="card-title">{{ movie.title }}</h2>
          <div class="mb-2">
            <p>
              <span class="font-weight-bold">Genres:</span> {{ movie.genres }}
            </p>
          </div>

          <p class="card-text text-truncate-p">
            <span class="font-weight-bold">Description: </span
            >{{ movie.description }}
          </p>
        </div>
      </div>
    </div>
  </div>
</ng-template>
